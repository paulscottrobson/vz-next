// ****************************************************************************
// ****************************************************************************
//
//		Name:		main.cpp
//		Purpose:	Main Program (esp version)
//		Created:	8th March 2020
//		Author:		Paul Robson (paul@robsons.org.uk)
//
// ****************************************************************************
// ****************************************************************************

#include "espinclude.h"

// ****************************************************************************
//
//								Set up code
//
// ****************************************************************************

void setup()
{
	Serial.begin(115200);delay(500);
	int fsOpen = SPIFFS.begin(FORMAT_SPIFFS_IF_FAILED);
	HWESPVideoInitialise();
	HWESPSoundInitialise();
	HWESPKeyboardInitialise();
	CPUReset();
	Serial.write("Setup done.\n");
}

// ****************************************************************************
//
//									Execution
//
// ****************************************************************************

void loop()
{
	while (1) {
		CPUExecuteInstruction();
	}
}
